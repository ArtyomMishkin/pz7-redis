# Практическое задание 7

## ЭФМО-02-25 Мишкин Артём Дмитриевич 09.12.2025

---

## Информация о проекте
REST API на Go с использованием Redis для кэширования данных. Реализация простого in-memory кэша с поддержкой TTL (времени жизни ключей) через библиотеку `go-redis`. Проект демонстрирует базовые операции SET, GET, TTL и их применение для снижения нагрузки на основную базу данных.

## Цели занятия
- Освоить базовые операции работы с Redis из Go-приложения
- Научиться использовать команды SET, GET, задавать время жизни ключей (TTL)
- Реализовать кэширование данных для ускорения работы API
- Понять, в каких случаях кэш помогает снизить нагрузку на базу данных

## Файловая структура проекта:

pz7-redis/

├── cmd/server/main.go

├── internal/cache/cache.go

└── go.mod

## ВАЖНОЕ ПРИМЕЧАНИЕ

Порт: **8080** (стандартный для сервера), Redis: **6379** (стандартный порт)

## Примеры запросов:

<img width="974" height="254" alt="image" src="https://github.com/user-attachments/assets/eddd9a34-e1f7-4a77-bed1-93e47428211d" />

## Запуск проекта

###  Запуск Redis через Docker
```bash
docker run --name redis -p 6379:6379 redis
cd pz7-redis
go run ./cmd/server
```
# Контрольные вопросы
## 1. Чем Redis отличается от реляционной БД?

Redis — это in-memory key-value хранилище (NoSQL), работает в оперативной памяти, поддерживает TTL, не использует SQL.

Реляционные БД (PostgreSQL, MySQL) — хранят данные на диске, используют таблицы и SQL-запросы, поддерживают сложные транзакции и связи.

## 2. Какие типы данных поддерживает Redis кроме строк?

Списки (Lists)

Множества (Sets)

Хэши (Hashes)

Упорядоченные множества (Sorted Sets)

Битовые поля (Bitfields)

Гиперлоги (HyperLogLogs)

## 3. Зачем нужен TTL? Приведите примеры.
TTL автоматически удаляет ключи через заданное время.
Примеры:

Кэширование новостей на 5 минут

Сессии пользователей на 30 минут

Временные коды подтверждения на 2 минуты

## 4. Как Redis помогает снизить нагрузку на PostgreSQL?
Redis хранит часто запрашиваемые данные в памяти. При повторном запросе данные возвращаются из Redis без обращения к PostgreSQL, что уменьшает количество запросов к основной БД.

## 5. Что произойдёт, если ключ в Redis «протух» по TTL, а приложение попытается его прочитать?
Приложение получит ошибку redis: nil (ключ не найден). В коде это обрабатывается проверкой ошибки и при необходимости повторным запросом к основной БД с последующим сохранением в кэш.

Коды ответа
200 OK — успешное выполнение GET/TTL

201 Created — успешное сохранение данных (в контексте кэша — 200 OK)

400 Bad Request — отсутствуют обязательные параметры key/value

404 Not Found — ключ не найден в кэше

500 Internal Server Error — ошибка подключения к Redis
